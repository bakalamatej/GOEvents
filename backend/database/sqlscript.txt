-- Create tb_users table
CREATE TABLE tb_users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(50) NOT NULL,
    email VARCHAR(80) NOT NULL UNIQUE,
    password_hash TEXT NOT NULL,
    is_admin CHAR(1) NOT NULL,
    profile_picture_url VARCHAR(255)
);

-- Create tb_events table
CREATE TABLE tb_events (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title VARCHAR(150) NOT NULL,
    description TEXT NOT NULL,
    location VARCHAR(255) NOT NULL,
    date_time TIMESTAMP NOT NULL,
    category VARCHAR(255) NOT NULL,
    image_url VARCHAR(255),
    created_by INTEGER NOT NULL,
    is_active CHAR(1) NOT NULL,
    FOREIGN KEY (created_by) REFERENCES tb_users(id)
);

-- Create tb_savedEvents table (many-to-many relationship)
CREATE TABLE tb_savedEvents (
    id_user INTEGER NOT NULL,
    id_event INTEGER NOT NULL,
    PRIMARY KEY (id_user, id_event),
    FOREIGN KEY (id_user) REFERENCES tb_users(id),
    FOREIGN KEY (id_event) REFERENCES tb_events(id)
);
